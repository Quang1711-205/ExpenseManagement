<?xml version="1.0" encoding="utf-8"?>
<!-- activity_smart_budget_enhanced.xml -->
<androidx.swiperefreshlayout.widget.SwipeRefreshLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/swipe_refresh_layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="#F8F9FA"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <!-- Header với Back Button và Title - FULL WIDTH -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="66dp"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:background="@drawable/header_gradient_background"
                android:paddingStart="16dp"
                android:paddingEnd="16dp"
                android:elevation="8dp"
                android:layout_marginStart="-16dp"
                android:layout_marginEnd="-16dp"
                android:layout_marginTop="-16dp"
                android:layout_marginBottom="16dp">

                <!-- Back Button -->
                <ImageView
                    android:id="@+id/iv_back_button"
                    android:layout_width="48dp"
                    android:layout_height="48dp"
                    android:src="@drawable/ic_arrow_back_white"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:padding="12dp"
                    android:layout_marginTop="8dp"
                    android:layout_marginEnd="16dp"
                    android:contentDescription="Back"
                    android:clickable="true"
                    android:focusable="true"
                    android:onClick="onBackClick" />

                <!-- Title -->
                <TextView
                    android:id="@+id/tv_header_title"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:layout_marginTop="8dp"
                    android:text="Ngân Sách Thông Minh"
                    android:textColor="@android:color/white"
                    android:textSize="20sp"
                    android:textStyle="bold" />

                <!-- Optional: Right side icon/button -->
                <ImageView
                    android:id="@+id/iv_header_menu"
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_more_vert"
                    app:tint="@android:color/white"
                    android:background="?attr/selectableItemBackgroundBorderless"
                    android:padding="4dp"
                    android:contentDescription="Menu"
                    android:clickable="true"
                    android:focusable="true"
                    android:visibility="gone" />

            </LinearLayout>

            <!-- Enhanced Header Section with Quick Actions -->
            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="20dp"
                app:cardElevation="8dp"
                app:cardBackgroundColor="#FFFFFF">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical">


                            <TextView
                                android:id="@+id/tv_user_greeting"
                                android:layout_width="240dp"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="4dp"
                                android:text="Xin chào! Hãy quản lý tài chính một cách thông minh nhé"
                                android:textColor="#666666"
                                android:textSize="14sp" />

                        </LinearLayout>

                        <!-- Quick Action Buttons -->
                        <LinearLayout
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal">

                            <ImageView
                                android:id="@+id/iv_notifications"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:src="@drawable/ic_notifications"
                                android:background="@drawable/circular_button_background"
                                android:backgroundTint="#E3F2FD"
                                android:padding="8dp"
                                android:layout_marginEnd="8dp"
                                android:contentDescription="Notifications"
                                android:clickable="true"
                                android:focusable="true" />

                            <ImageView
                                android:id="@+id/iv_settings"
                                android:layout_width="40dp"
                                android:layout_height="40dp"
                                android:src="@drawable/ic_settings"
                                android:background="@drawable/circular_button_background"
                                android:backgroundTint="#E8F5E8"
                                android:padding="8dp"
                                android:contentDescription="Settings"
                                android:clickable="true"
                                android:focusable="true" />

                        </LinearLayout>

                    </LinearLayout>

                    <!-- Budget Period Selector with Enhanced UI -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginTop="16dp"
                        android:background="@drawable/rounded_background_light"
                        android:padding="12dp">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="📅 Kỳ ngân sách:"
                            android:textSize="14sp"
                            android:textStyle="bold"
                            android:textColor="#333333" />

                        <Spinner
                            android:id="@+id/spinner_budget_period"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:layout_marginStart="12dp"
                            android:background="@drawable/spinner_background" />

                        <TextView
                            android:id="@+id/tv_date_range"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="01/01 - 31/01"
                            android:textSize="12sp"
                            android:textColor="#666666"
                            android:background="@drawable/rounded_background_accent"
                            android:padding="6dp"
                            android:layout_marginStart="8dp" />

                    </LinearLayout>

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- Budget Health Dashboard -->
            <androidx.cardview.widget.CardView
                android:id="@+id/card_budget_health"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="6dp"
                app:cardBackgroundColor="#FFFFFF"
                android:visibility="gone">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="🏥 Sức Khỏe Ngân Sách"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="#1976D2"
                        android:layout_marginBottom="16dp" />

                    <!-- Health Score with Enhanced Design -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <!-- Circular Progress -->
                        <FrameLayout
                            android:layout_width="120dp"
                            android:layout_height="120dp"
                            android:background="#FFFFFF">

                            <ProgressBar
                                android:id="@+id/pb_health_circular"
                                style="?android:attr/progressBarStyleHorizontal"
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:background="@android:color/transparent"
                                android:progressDrawable="@drawable/circular_progress_health"
                                android:max="100"
                                android:progress="85" />

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:orientation="vertical"
                                android:gravity="center">

                                <TextView
                                    android:id="@+id/tv_health_score"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="85"
                                    android:textSize="32sp"
                                    android:textStyle="bold"
                                    android:textColor="#4CAF50" />

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="Điểm"
                                    android:textSize="12sp"
                                    android:textColor="#666666" />

                            </LinearLayout>

                        </FrameLayout>

                        <LinearLayout
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:orientation="vertical"
                            android:layout_marginStart="20dp">

                            <TextView
                                android:id="@+id/tv_health_status"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="✅ Tuyệt vời"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:textColor="#4CAF50"
                                android:layout_marginBottom="8dp" />

                            <TextView
                                android:id="@+id/tv_health_description"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Bạn đang quản lý ngân sách rất tốt! Tiếp tục duy trì."
                                android:textSize="14sp"
                                android:textColor="#666666"
                                android:lineSpacingExtra="2dp" />

                            <!-- Quick Health Metrics -->
                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:orientation="horizontal"
                                android:layout_marginTop="12dp">

                                <TextView
                                    android:id="@+id/tv_categories_on_track"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:text="📊 8/10 đúng hạn"
                                    android:textSize="12sp"
                                    android:textColor="#4CAF50"
                                    android:background="@drawable/rounded_background_success"
                                    android:padding="6dp"
                                    android:gravity="center"
                                    android:layout_marginEnd="4dp" />

                                <TextView
                                    android:id="@+id/tv_overspend_warning"
                                    android:layout_width="0dp"
                                    android:layout_height="wrap_content"
                                    android:layout_weight="1"
                                    android:text="⚠️ 2 danh mục vượt"
                                    android:textSize="12sp"
                                    android:textColor="#FF9800"
                                    android:background="@drawable/rounded_background_warning"
                                    android:padding="6dp"
                                    android:gravity="center"
                                    android:layout_marginStart="4dp" />

                            </LinearLayout>

                        </LinearLayout>

                    </LinearLayout>

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- Enhanced Budget Overview with 4 Key Metrics -->
            <LinearLayout
                android:id="@+id/layout_budget_overview"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:visibility="gone">

                <!-- Top Row: Allocated & Spent -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="12dp">

                    <!-- Total Allocated -->
                    <androidx.cardview.widget.CardView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginEnd="6dp"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        app:cardBackgroundColor="#E8F5E8">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="16dp"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="💰"
                                android:textSize="24sp"
                                android:layout_marginBottom="8dp" />

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Phân bổ"
                                android:textSize="12sp"
                                android:textColor="#666666"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/tv_total_allocated"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0 đ"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:textColor="#2E7D32" />

                        </LinearLayout>

                    </androidx.cardview.widget.CardView>

                    <!-- Total Spent -->
                    <androidx.cardview.widget.CardView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginStart="6dp"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        app:cardBackgroundColor="#FFEBEE">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="16dp"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="💸"
                                android:textSize="24sp"
                                android:layout_marginBottom="8dp" />

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Đã chi"
                                android:textSize="12sp"
                                android:textColor="#666666"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/tv_total_spent"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0 đ"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:textColor="#C62828" />

                        </LinearLayout>

                    </androidx.cardview.widget.CardView>

                </LinearLayout>

                <!-- Bottom Row: Remaining & Percentage -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="16dp">

                    <!-- Remaining Amount -->
                    <androidx.cardview.widget.CardView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginEnd="6dp"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        app:cardBackgroundColor="#E3F2FD">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="16dp"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="💎"
                                android:textSize="24sp"
                                android:layout_marginBottom="8dp" />

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Còn lại"
                                android:textSize="12sp"
                                android:textColor="#666666"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/tv_remaining_amount"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0 đ"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:textColor="#1976D2" />

                        </LinearLayout>

                    </androidx.cardview.widget.CardView>

                    <!-- Usage Percentage -->
                    <androidx.cardview.widget.CardView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginStart="6dp"
                        app:cardCornerRadius="16dp"
                        app:cardElevation="4dp"
                        app:cardBackgroundColor="#FFF3E0">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="vertical"
                            android:padding="16dp"
                            android:gravity="center">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="📊"
                                android:textSize="24sp"
                                android:layout_marginBottom="8dp" />

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Sử dụng"
                                android:textSize="12sp"
                                android:textColor="#666666"
                                android:layout_marginBottom="4dp" />

                            <TextView
                                android:id="@+id/tv_usage_percentage"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0%"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:textColor="#F57C00" />

                        </LinearLayout>

                    </androidx.cardview.widget.CardView>

                </LinearLayout>

                <!-- Progress Bar with Time Info -->
                <androidx.cardview.widget.CardView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="20dp">

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:gravity="center_vertical"
                            android:layout_marginBottom="12dp">

                            <TextView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:text="📈 Tiến độ ngân sách"
                                android:textSize="16sp"
                                android:textStyle="bold"
                                android:textColor="#333333" />

                            <TextView
                                android:id="@+id/tv_days_remaining"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="15 ngày còn lại"
                                android:textSize="12sp"
                                android:textColor="#666666"
                                android:background="@drawable/rounded_background_light"
                                android:padding="8dp" />

                        </LinearLayout>

                        <ProgressBar
                            android:id="@+id/pb_overall_progress"
                            style="@android:style/Widget.ProgressBar.Horizontal"
                            android:layout_width="match_parent"
                            android:layout_height="12dp"
                            android:max="100"
                            android:progress="0"
                            android:progressDrawable="@drawable/custom_progress_bar" />

                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:orientation="horizontal"
                            android:layout_marginTop="8dp">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="0%"
                                android:textSize="12sp"
                                android:textColor="#666666" />

                            <View
                                android:layout_width="0dp"
                                android:layout_height="1dp"
                                android:layout_weight="1" />

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="100%"
                                android:textSize="12sp"
                                android:textColor="#666666" />

                        </LinearLayout>

                    </LinearLayout>

                </androidx.cardview.widget.CardView>

            </LinearLayout>

            <!-- Enhanced Analytics Section -->
            <androidx.cardview.widget.CardView
                android:id="@+id/card_analytics"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="6dp"
                android:visibility="gone">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="📊 Phân Tích Thông Minh"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="#1976D2"
                        android:layout_marginBottom="16dp" />

                    <!-- Tab Layout for Charts -->
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:layout_marginBottom="16dp">

                        <Button
                            android:id="@+id/btn_chart_allocation"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Phân bổ"
                            android:textSize="12sp"
                            android:layout_marginEnd="4dp"
                            android:background="@drawable/tab_button_selected" />

                        <Button
                            android:id="@+id/btn_chart_trend"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="Xu hướng"
                            android:textSize="12sp"
                            android:layout_marginStart="4dp"
                            android:layout_marginEnd="4dp"
                            android:background="@drawable/tab_button_normal" />

                        <Button
                            android:id="@+id/btn_chart_comparison"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="So sánh"
                            android:textSize="12sp"
                            android:layout_marginStart="4dp"
                            android:background="@drawable/tab_button_normal" />

                    </LinearLayout>

                    <!-- Chart Container -->
                    <FrameLayout
                        android:id="@+id/chart_container"
                        android:layout_width="match_parent"
                        android:layout_height="250dp">

                        <!-- Pie Chart -->
                        <com.github.mikephil.charting.charts.PieChart
                            android:id="@+id/pie_chart_budget_allocation"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent" />

                        <!-- Line Chart -->
                        <com.github.mikephil.charting.charts.LineChart
                            android:id="@+id/line_chart_spending_trend"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:visibility="gone" />

                        <!-- Bar Chart -->
                        <com.github.mikephil.charting.charts.BarChart
                            android:id="@+id/bar_chart_comparison"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:visibility="gone" />

                    </FrameLayout>

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- Budget Categories with Enhanced UI -->
            <androidx.cardview.widget.CardView
                android:id="@+id/card_budget_categories"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                android:visibility="gone">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical"
                        android:layout_marginBottom="16dp">

                        <TextView
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:text="📂 Danh Mục Ngân Sách"
                            android:textSize="18sp"
                            android:textStyle="bold"
                            android:textColor="#1976D2" />

                        <!-- Sort/Filter Options -->
                        <ImageView
                            android:id="@+id/iv_sort_categories"
                            android:layout_width="32dp"
                            android:layout_height="32dp"
                            android:src="@drawable/ic_sort"
                            android:background="?attr/selectableItemBackgroundBorderless"
                            android:padding="6dp"
                            android:layout_marginEnd="8dp"
                            android:contentDescription="Sort categories" />

                        <ImageView
                            android:id="@+id/iv_filter_categories"
                            android:layout_width="32dp"
                            android:layout_height="32dp"
                            android:src="@drawable/ic_filter"
                            android:background="?attr/selectableItemBackgroundBorderless"
                            android:padding="6dp"
                            android:contentDescription="Filter categories" />

                    </LinearLayout>

                    <androidx.recyclerview.widget.RecyclerView
                        android:id="@+id/rv_budget_categories"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:nestedScrollingEnabled="false" />

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- Smart Insights & Recommendations -->
            <androidx.cardview.widget.CardView
                android:id="@+id/card_smart_insights"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                android:visibility="gone">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="20dp">

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="🧠 Góp Ý Thông Minh"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="#1976D2"
                        android:layout_marginBottom="16dp" />

                    <androidx.recyclerview.widget.RecyclerView
                        android:id="@+id/rv_smart_insights"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:nestedScrollingEnabled="false" />

                </LinearLayout>

            </androidx.cardview.widget.CardView>

            <!-- No Data State -->
            <LinearLayout
                android:id="@+id/layout_no_data"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="50dp"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="40dp"
                android:visibility="visible">

                <!-- Animated Empty State -->
                <ImageView
                    android:id="@+id/iv_empty_state_icon"
                    android:layout_width="120dp"
                    android:layout_height="120dp"
                    android:layout_marginBottom="24dp"
                    android:contentDescription="No budget data"
                    android:src="@drawable/ic_empty_budget" />

                <TextView
                    android:id="@+id/tv_empty_state_title"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="12dp"
                    android:gravity="center"
                    android:text="💰 Chưa có ngân sách nào"
                    android:textColor="#333333"
                    android:textSize="22sp"
                    android:textStyle="bold" />

                <TextView
                    android:id="@+id/tv_empty_state_message"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="32dp"
                    android:gravity="center"
                    android:lineSpacingExtra="4dp"
                    android:text="Tạo ngân sách đầu tiên để bắt đầu quản lý tài chính thông minh. Chúng tôi sẽ giúp bạn theo dõi chi tiêu và đạt được mục tiêu tài chính!"
                    android:textColor="#666666"
                    android:textSize="16sp" />

                <Button
                    android:id="@+id/btn_start_budgeting"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:background="@drawable/rounded_button_primary"
                    android:elevation="4dp"
                    android:paddingStart="32dp"
                    android:paddingTop="16dp"
                    android:paddingEnd="32dp"
                    android:paddingBottom="16dp"
                    android:text="🚀 Tạo ngân sách đầu tiên"
                    android:textColor="@android:color/white"
                    android:textSize="16sp"
                    android:textStyle="bold" />

            </LinearLayout>

            <!-- Enhanced Action Buttons -->
            <LinearLayout
                android:id="@+id/layout_action_buttons"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginTop="20dp"
                android:visibility="gone">

                <!-- Primary Actions Row -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="12dp">

                    <Button
                        android:id="@+id/btn_create_budget"
                        android:layout_width="0dp"
                        android:layout_height="56dp"
                        android:layout_weight="1"
                        android:text="➕ Tạo ngân sách"
                        android:textColor="@android:color/white"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:background="@drawable/rounded_button_success"
                        android:layout_marginEnd="6dp"
                        android:elevation="2dp" />

                    <Button
                        android:id="@+id/btn_quick_add_expense"
                        android:layout_width="0dp"
                        android:layout_height="56dp"
                        android:layout_weight="1"
                        android:text="💸 Chi tiêu nhanh"
                        android:textColor="@android:color/white"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:background="@drawable/rounded_button_warning"
                        android:layout_marginStart="6dp"
                        android:elevation="2dp" />

                </LinearLayout>

                <!-- Secondary Actions Row -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/btn_adjust_budget"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:text="⚙️ Điều chỉnh"
                        android:textColor="@android:color/white"
                        android:textSize="12sp"
                        android:background="@drawable/rounded_button_info"
                        android:layout_marginEnd="4dp"
                        android:elevation="1dp" />

                    <Button
                        android:id="@+id/btn_budget_analysis"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:text="📊 Phân tích"
                        android:textColor="@android:color/white"
                        android:textSize="12sp"
                        android:background="@drawable/rounded_button_secondary"
                        android:layout_marginStart="4dp"
                        android:layout_marginEnd="4dp"
                        android:elevation="1dp" />

                    <Button
                        android:id="@+id/btn_budget_export"
                        android:layout_width="0dp"
                        android:layout_height="48dp"
                        android:layout_weight="1"
                        android:text="📤 Xuất dữ liệu"
                        android:textColor="@android:color/white"
                        android:textSize="12sp"
                        android:background="@drawable/rounded_button_accent"
                        android:layout_marginStart="4dp"
                        android:elevation="1dp" />

                </LinearLayout>

            </LinearLayout>

            <!-- Bottom Padding -->
            <View
                android:layout_width="match_parent"
                android:layout_height="20dp" />

        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

</androidx.swiperefreshlayout.widget.SwipeRefreshLayout>